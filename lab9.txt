import java.util.concurrent.*;
import java.util.Random;

// Etapa 1: Implementação do Produtor e Consumidor com BlockingQueue
class Produtor implements Runnable {
    private BlockingQueue<Integer> fila;
    private int tempo;
    private Random random = new Random();

    public Produtor(BlockingQueue<Integer> fila, int tempo) {
        this.fila = fila;
        this.tempo = tempo;
    }

    @Override
    public void run() {
        while (true) {
            try {
                int numero = random.nextInt(10) + 1;
                fila.put(numero);
                System.out.println("Produtor gerou: " + numero);
                Thread.sleep(tempo);
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
        }
    }
}

class Consumidor implements Runnable {
    private BlockingQueue<Integer> fila;
    private int tempo;

    public Consumidor(BlockingQueue<Integer> fila, int tempo) {
        this.fila = fila;
        this.tempo = tempo;
    }

    @Override
    public void run() {
        while (true) {
            try {
                int numero = fila.take();
                System.out.println("Consumidor processou: " + numero);
                Thread.sleep(tempo);
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
        }
    }
}

public class MainEtapa1 {
    public static void main(String[] args) {
        BlockingQueue<Integer> fila = new ArrayBlockingQueue<>(10);
        Thread produtor = new Thread(new Produtor(fila, 500)); // Ajuste os tempos para testar
        Thread consumidor = new Thread(new Consumidor(fila, 700));
        
        produtor.start();
        consumidor.start();
    }
}
